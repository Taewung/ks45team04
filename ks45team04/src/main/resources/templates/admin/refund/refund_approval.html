<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{admin/layout/adminDefault}">

	<!-- script start -->
	<th:block layout:fragment="customScript">
	<script>
	</script>
	</th:block> 
	<!-- script end -->
	
	<!-- customContents start -->
	<th:block layout:fragment="customContents">
         <h1>환불 신청 내역</h1>
            <p class="pxp-text-light">Refund approval</p>

            <div class="mt-4 mt-lg-5">
                <div class="row justify-content-between align-content-center">
                    <div class="col-auto order-2 order-sm-1">
                        <form th:action="@{/refundApproval}" method="get">
                        <div class="pxp-company-dashboard-jobs-bulk-actions mb-3">
                            <div class="pxp-company-dashboard-jobs-search mb-3">                            
                            <select name="searchKey" class="form-select">
                                <option value="payId">회원 아이디</option>
                            </select>
                            	<div class="col-auto order-1 order-sm-2">
                            		<div class="pxp-company-dashboard-jobs-search-search-form">
                                		<div class="input-group">
                                    		<span class="input-group-text"><span class="fa fa-search"></span></span>
                                    		<input type="text" name="searchValue" class="form-control" placeholder="Search ID">
                                    		<button type="submit" class="btn ms-2">Search</button>
                                		</div>
                            		</div>
                        		</div>
                        		
                    		</div>
                    		
                        </div>
                        </form> 
                    </div>
                    
                </div>
                <div class="table-responsive" style="overflow-x: hidden">
                    <table class="table table-hover align-middle">
                        <thead>
                            <tr>
                                <th colspan="1" style="width: 10%;">환불코드</th>
                                <th style="width: 12%;">결제완료코드</th>
                                <th style="width: 8%;">아이디</th>
                                <th style="width: 10%;">환불사유</th>
                                <th style="width: 8%;">결제금액</th>
                                <th style="width: 8%;">환불금액</th>
                                <th style="width: 8%;">환불포인트</th>
                                <th style="width: 8%;">상태</th>
                                <th style="width: 15%;">환불신청일시</th>
                                <th>승인/삭제</th>
                            </tr>
                        </thead>
                        <tbody>
                         <tr th:if="${not #lists.isEmpty(refundList)}"
									th:each="l : ${refundList}">
                                	<td><div class="pxp-company-dashboard-job-title" th:text="${l.refundCode}"></div>
                                    <td><div class="pxp-company-dashboard-job-category" th:text="${l.payCompleteCode}"></div></td>
                                    <td><div class="pxp-company-dashboard-job-status" th:text="${l.payId}"></div></td>
                                    <td><div class="pxp-company-dashboard-job-status" th:text="${l.refundReason}"></div></td>
                                    <td><div class="pxp-company-dashboard-job-status" th:text="${#numbers.formatInteger(l.finalPayPrice, 3, 'COMMA')}"></div></td>
                                    <td><div class="pxp-company-dashboard-job-status" th:text="${#numbers.formatInteger(l.refundPrice, 3, 'COMMA')}"></div></td>
                                    <td><div class="pxp-company-dashboard-job-status" th:text="${l.refundPoint}"></div></td>
                                    <td><div class="pxp-company-dashboard-job-status" th:text="${l.refundState}"></div></td>
                                    <td><div class="pxp-company-dashboard-job-status" th:text="${l.refundDatetime}"></div></td>
                                <td>
                                    <div class="pxp-dashboard-table-options">
                                        <ul class="list-unstyled">
                                        <a th:href="@{/modifyRefundApproval(refundCode=${l.refundCode})}">
                                            <li><button title="Modify"><span class="fa fa-check"></span></button></li>
                                         </a>
                                            <li><button title="Delete"><span class="fa fa-trash-o"></span></button></li>
                                       
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                            <tr th:unless="${not #lists.isEmpty(refundList)}">
								<td colspan="9">조회된 환불 승인 내역이 없습니다.</td>
							</tr>     
                        </tbody>
                    </table>

                    <div class="row mt-4 mt-lg-5 justify-content-center align-items-center">
                        <div class="col-auto">
                            <nav class="mt-3 mt-sm-0" aria-label="Candidates pagination">
                                <ul class="pagination pxp-pagination">
                                    <li class="page-item active" aria-current="page">
                                        <span class="page-link">1</span>
                                    </li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
	</th:block>
	<!-- customContents end -->
	
	<!-- customJs start -->
	<th:block layout:fragment="customJs">
	
	</th:block>
	<!-- customJs end -->
</html>
